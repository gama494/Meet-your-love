<!DOCTYPE html>
<html>
<head>
  <title>Call</title>
  <style>
    body { background:#121212; color:white; text-align:center; padding-top:20px; }
    video { width:300px; border-radius:10px; margin:5px; background:black; }
    button { margin:5px; padding:8px 12px; border:none; border-radius:6px; cursor:pointer; }
  </style>
</head>
<body>
  <h2>Call in progress...</h2>
  <p id="timer">00:00</p>
  <video id="localVideo" autoplay muted></video>
  <video id="remoteVideo" autoplay></video>
  <br>
  <button id="muteBtn">ðŸ”‡ Mute</button>
  <button id="videoBtn">ðŸŽ¥ Switch to Video</button>
  <button id="endBtn" style="background:red;color:white;">End Call</button>

  <script>
    let seconds = 0;
    let muted = false;
    let timerInt = setInterval(() => {
      seconds++;
      const m = String(Math.floor(seconds / 60)).padStart(2, "0");
      const s = String(seconds % 60).padStart(2, "0");
      document.getElementById("timer").innerText = `${m}:${s}`;
    }, 1000);

    document.getElementById("muteBtn").onclick = () => {
      muted = !muted;
      document.getElementById("muteBtn").innerText = muted ? "ðŸ”Š Unmute" : "ðŸ”‡ Mute";
      // toggle audio track mute
    };

    document.getElementById("videoBtn").onclick = () => {
      // toggle video track
    };

    document.getElementById("endBtn").onclick = () => {
      clearInterval(timerInt);
      window.location.href = "message.html";
    };
  </script>
</body>
</html>
